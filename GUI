import Testing
import tkinter
import random
import ClassImageProcessing

def funt():
    print("DA")

class GUI:

    SCORES = []
    def __init__(self):
        self.window = tkinter.Tk()

    def start(self):
        window = self.window
        window.title("Sign Language Decoder")
        window.geometry("100x170")

        window.configure(bg="#3c3d4a")

        button1 = tkinter.Button(window,height="1", width="8",text="Translate",command=self.popUpForTranslate,bg="orange")
        button1.pack(pady="10")

        button2 = tkinter.Button(window,text="Game",command=self.popUpForGame,height="1", width="8",bg="orange")
        button2.pack(pady="10")

        button3 = tkinter.Button(window,height='1',width='8',bg="orange",text="My Scores",command=self.getScores)
        button3.pack(pady="10")
        
        window.mainloop()

    def popUpForTranslate(self):
        pop = tkinter.Toplevel(self.window,bg="orange")
        pop.title("Translator")
        lbl = tkinter.Label(pop, bg="orange",text="Place your hand in the center of the box\n Close this window to continue")
        lbl.pack()
        pop.protocol("WM_DELETE_WINDOW", lambda p=pop,m="T":self.on_closing(p,m))

    def popUpForGame(self):
        pop = tkinter.Toplevel(self.window,bg="#3c3d4a")
        pop.title("Game")

        lbl = tkinter.Label(pop,bg="orange",text="Press 's' to submit a photo\n Close this window to continue")
        lbl.pack()
        pop.protocol("WM_DELETE_WINDOW", lambda p=pop,m="G":self.on_closing(p,m))

        
    def on_closing(self,p,mes):
        p.destroy()

        if(mes == 'T'):
            Testing.record()
        else:
            val = Testing.gameRecord()
            GUI.SCORES.append(val)

    def getScores(self):
        pop = tkinter.Toplevel(bg="orange")
        pop.title("Scores")
        if(GUI.SCORES == []):
            lbl = tkinter.Label(pop,text="No scores available",bg="orange",foreground="black")
            lbl.grid(pady="10",padx="10")
        else:
            message = ""
            count = 0
            for i in GUI.SCORES:
                count += 1
                message +=  "  Attempt Number " + str(count) + ": "+ str(i) + '/5\n'

            lbl = tkinter.Label(pop,text=message,width="20",foreground="black",bg="orange")
            lbl.grid(pady="10")
            

        #Add the functionality
        #Once the player finishes a game remember the score and add it here
        #Top Score will be always placed first - As well as the attempt
    

P = GUI()
P.start()
